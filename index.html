<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q&A Knowledge Base Cleanup Tool</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {}
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

```
<script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide React icons as inline SVG components
    const Search = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="21 21l-4.35-4.35"></path>
        </svg>
    );

    const Upload = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17,8 12,3 7,8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
    );

    const Download = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7,10 12,15 17,10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
    );

    const Edit3 = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="12 20h9"></path>
            <path d="16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
        </svg>
    );

    const CheckCircle = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22,4 12,14.01 9,11.01"></polyline>
        </svg>
    );

    const X = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    );

    const Trash2 = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <polyline points="3,6 5,6 21,6"></polyline>
            <path d="19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            <line x1="10" y1="11" x2="10" y2="17"></line>
            <line x1="14" y1="11" x2="14" y2="17"></line>
        </svg>
    );

    const FileSpreadsheet = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="14,2 H6 A2,2 0 0,0 4,4 V20 A2,2 0 0,0 6,22 H18 A2,2 0 0,0 20,20 V8 Z"></path>
            <polyline points="14,2 14,8 20,8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10,9 9,9 8,9"></polyline>
        </svg>
    );

    const AlertCircle = () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
    );

    const QACleanupTool = () => {
        const [qaPairs, setQaPairs] = useState([]);
        const [filteredPairs, setFilteredPairs] = useState([]);
        const [selectedPair, setSelectedPair] = useState(null);
        const [searchTerm, setSearchTerm] = useState('');
        const [filter, setFilter] = useState('all');
        const [editingPair, setEditingPair] = useState(null);
        const [isLoading, setIsLoading] = useState(false);
        const [uploadError, setUploadError] = useState(null);
        const [isProcessing, setIsProcessing] = useState(false);

        // Initialize with empty data - will be populated by file upload
        useEffect(() => {
            if (qaPairs.length === 0) {
                // Load sample data for demo purposes
                loadSampleData();
            }
        }, []);

        const loadSampleData = () => {
            const sampleData = generateSampleData();
            setQaPairs(sampleData);
            setFilteredPairs(sampleData);
        };

        // File upload handler
        const handleFileUpload = async (event) => {
            const file = event.target.files[0];
            if (!file) return;

            setIsLoading(true);
            setUploadError(null);

            try {
                const data = await readExcelFile(file);
                const processedData = await processQAData(data);
                setQaPairs(processedData);
                setFilteredPairs(processedData);
                
                // Reset other states
                setSelectedPair(null);
                setEditingPair(null);
                setSearchTerm('');
                setFilter('all');
                
            } catch (error) {
                setUploadError(error.message);
            } finally {
                setIsLoading(false);
            }
        };

        // Read Excel file
        const readExcelFile = (file) => {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                
                reader.onload = (e) => {
                    try {
                        const data = new Uint8Array(e.target.result);
                        const workbook = XLSX.read(data, { type: 'array' });
                        
                        // Get first worksheet
                        const sheetName = workbook.SheetNames[0];
                        const worksheet = workbook.Sheets[sheetName];
                        
                        // Convert to JSON
                        const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });
                        resolve(jsonData);
                    } catch (error) {
                        reject(new Error('Failed to read Excel file. Please check the file format.'));
                    }
                };
                
                reader.onerror = () => reject(new Error('Failed to read file'));
                reader.readAsArrayBuffer(file);
            });
        };

        // Process Q&A data and detect issues
        const processQAData = async (rawData) => {
            setIsProcessing(true);
            
            return new Promise((resolve) => {
                setTimeout(() => {
                    try {
                        if (rawData.length < 2) {
                            throw new Error('File must contain at least a header row and one data row');
                        }

                        const headers = rawData[0].map(h => h?.toString().toLowerCase().trim());
                        const rows = rawData.slice(1);

                        // Find question and answer columns
                        const questionCol = findColumn(headers, ['question', 'q', 'query', 'ask']);
                        const answerCol = findColumn(headers, ['answer', 'a', 'response', 'reply']);

                        if (questionCol === -1 || answerCol === -1) {
                            throw new Error('Could not find Question and Answer columns. Please ensure your Excel has columns named "Question" and "Answer"');
                        }

                        const processedData = rows
                            .filter(row => row[questionCol] && row[answerCol]) // Filter out empty rows
                            .map((row, index) => {
                                const question = row[questionCol]?.toString().trim();
                                const answer = row[answerCol]?.toString().trim();
                                
                                // Extract tags if available
                                const tagCol = findColumn(headers, ['tags', 'tag', 'category', 'categories']);
                                const tags = tagCol !== -1 && row[tagCol] 
                                    ? row[tagCol].toString().split(',').map(t => t.trim()).filter(t => t)
                                    : inferTags(question, answer);

                                // Detect issues
                                const issues = detectIssues(question, answer);
                                
                                // Calculate confidence score
                                const confidence = calculateConfidence(question, answer, issues);

                                return {
                                    id: index + 1,
                                    question,
                                    answer,
                                    tags,
                                    lastUpdated: new Date().toISOString().split('T')[0],
                                    issues,
                                    confidence
                                };
                            });

                        // Run duplicate detection across all data
                        const dataWithDuplicates = markDuplicates(processedData);
                        
                        resolve(dataWithDuplicates);
                    } catch (error) {
                        throw error;
                    } finally {
                        setIsProcessing(false);
                    }
                }, 1000); // Simulate processing time
            });
        };

        // Helper function to find column index
        const findColumn = (headers, possibleNames) => {
            for (let name of possibleNames) {
                const index = headers.findIndex(h => h.includes(name));
                if (index !== -1) return index;
            }
            return -1;
        };

        // Infer tags from question and answer content
        const inferTags = (question, answer) => {
            const text = (question + ' ' + answer).toLowerCase();
            const tagMap = {
                security: ['encrypt', 'security', 'auth', 'password', 'secure', 'firewall', 'malware', 'threat'],
                compliance: ['compliance', 'audit', 'cert', 'gdpr', 'hipaa', 'sox', 'iso', 'regulation'],
                privacy: ['privacy', 'personal', 'pii', 'data protection', 'consent', 'right to'],
                infrastructure: ['server', 'cloud', 'backup', 'system', 'network', 'infrastructure', 'uptime'],
                support: ['support', 'help', 'ticket', 'response', 'service level', 'sla'],
                legal: ['legal', 'contract', 'agreement', 'terms', 'liability', 'warranty']
            };

            const detectedTags = [];
            Object.entries(tagMap).forEach(([tag, keywords]) => {
                if (keywords.some(keyword => text.includes(keyword))) {
                    detectedTags.push(tag);
                }
            });

            return detectedTags.length > 0 ? detectedTags : ['general'];
        };

        // Detect issues with Q&A pairs
        const detectIssues = (question, answer) => {
            const issues = [];

            // Check for vague answers
            if (answer.length < 50 || 
                answer.toLowerCase().includes('we follow best practices') ||
                answer.toLowerCase().includes('industry standard') ||
                answer.toLowerCase().includes('as needed')) {
                issues.push('vague');
            }

            // Check for outdated content
            const oldYears = ['2020', '2021', '2022'];
            if (oldYears.some(year => answer.includes(year))) {
                issues.push('outdated');
            }

            // Check for inconsistent language
            if (answer.includes('TLS 1.2') && answer.includes('TLS 1.3')) {
                issues.push('inconsistent');
            }

            return issues;
        };

        // Mark duplicate questions
        const markDuplicates = (data) => {
            const duplicateGroups = [];
            
            data.forEach((item, index) => {
                const similar = data.slice(index + 1).filter(other => {
                    return calculateSimilarity(item.question, other.question) > 0.7;
                });
                
                if (similar.length > 0) {
                    duplicateGroups.push([item, ...similar]);
                }
            });

            // Mark items as duplicates
            return data.map(item => {
                const isDuplicate = duplicateGroups.some(group => 
                    group.some(duplicate => duplicate.id === item.id)
                );
                
                return {
                    ...item,
                    issues: isDuplicate && !item.issues.includes('duplicate') 
                        ? [...item.issues, 'duplicate']
                        : item.issues
                };
            });
        };

        // Calculate string similarity (simple Jaccard similarity)
        const calculateSimilarity = (str1, str2) => {
            const words1 = new Set(str1.toLowerCase().split(/\s+/));
            const words2 = new Set(str2.toLowerCase().split(/\s+/));
            
            const intersection = new Set([...words1].filter(x => words2.has(x)));
            const union = new Set([...words1, ...words2]);
            
            return intersection.size / union.size;
        };

        // Calculate confidence score
        const calculateConfidence = (question, answer, issues) => {
            let score = 100;
            
            // Deduct points for issues
            if (issues.includes('vague')) score -= 30;
            if (issues.includes('outdated')) score -= 25;
            if (issues.includes('inconsistent')) score -= 20;
            if (issues.includes('duplicate')) score -= 15;
            
            // Deduct for short answers
            if (answer.length < 30) score -= 20;
            
            // Deduct for unclear questions
            if (question.length < 10) score -= 15;
            
            return Math.max(score, 10);
        };

        // Generate realistic sample data
        const generateSampleData = () => {
            const questionTemplates = [
                { template: "What encryption do we use for {type}?", category: "security", variations: ["data at rest", "data in transit", "databases"] },
                { template: "Do we have {standard} certification?", category: "compliance", variations: ["SOC 2", "ISO 27001", "GDPR"] },
                { template: "How long do we retain {data_type}?", category: "privacy", variations: ["customer data", "logs", "backups"] },
            ];

            const answers = {
                security: ["We use AES-256 encryption for all data at rest and TLS 1.3 for data in transit."],
                compliance: ["Yes, we maintain current certification and undergo annual audits."],
                privacy: ["Data is retained according to our published retention policy."]
            };

            const data = [];
            let id = 1;

            // Generate multiple rounds to reach sample size
            for (let round = 0; round < 150; round++) {
                questionTemplates.forEach(template => {
                    template.variations.forEach(variation => {
                        const question = template.template.replace(/\{[^}]+\}/g, variation);
                        const answer = answers[template.category][0];
                        
                        // Randomly assign issues
                        const issues = [];
                        if (Math.random() < 0.15) issues.push('duplicate');
                        if (Math.random() < 0.1) issues.push('outdated');
                        if (Math.random() < 0.08) issues.push('vague');
                        
                        const confidence = issues.length > 0 ? 65 : 90;
                        
                        data.push({
                            id: id++,
                            question,
                            answer,
                            tags: [template.category],
                            lastUpdated: "2024-01-15",
                            issues,
                            confidence
                        });

                        if (data.length >= 900) return data.slice(0, 900);
                    });
                    if (data.length >= 900) return data.slice(0, 900);
                });
                if (data.length >= 900) return data.slice(0, 900);
            }

            return data.slice(0, 900);
        };

        useEffect(() => {
            let filtered = qaPairs;

            if (searchTerm) {
                filtered = filtered.filter(pair => 
                    pair.question.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    pair.answer.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    pair.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))
                );
            }

            if (filter !== 'all') {
                filtered = filtered.filter(pair => {
                    switch(filter) {
                        case 'issues': return pair.issues.length > 0;
                        case 'duplicates': return pair.issues.includes('duplicate');
                        case 'outdated': return pair.issues.includes('outdated');
                        case 'low-confidence': return pair.confidence < 80;
                        default: return true;
                    }
                });
            }

            setFilteredPairs(filtered);
        }, [searchTerm, filter, qaPairs]);

        const getIssueColor = (issue) => {
            switch(issue) {
                case 'duplicate': return 'bg-yellow-100 text-yellow-800';
                case 'outdated': return 'bg-red-100 text-red-800';
                case 'inconsistent': return 'bg-orange-100 text-orange-800';
                case 'vague': return 'bg-gray-100 text-gray-800';
                default: return 'bg-blue-100 text-blue-800';
            }
        };

        const handleEdit = (pair) => {
            setEditingPair({...pair});
        };

        const handleSave = () => {
            setQaPairs(prev => prev.map(p => p.id === editingPair.id ? editingPair : p));
            setEditingPair(null);
        };

        const handleDelete = (id) => {
            setQaPairs(prev => prev.filter(p => p.id !== id));
            if (selectedPair && selectedPair.id === id) {
                setSelectedPair(null);
            }
        };

        const exportCleanData = () => {
            const cleanData = qaPairs.map(pair => ({
                question: pair.question,
                answer: pair.answer,
                tags: pair.tags.join(', ')
            }));
            
            const csv = [
                ['Question', 'Answer', 'Tags'],
                ...cleanData.map(row => [row.question, row.answer, row.tags])
            ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'cleaned_qa_pairs.csv';
            a.click();
        };

        return React.createElement('div', { className: "min-h-screen bg-gray-50 p-6" },
            React.createElement('div', { className: "max-w-7xl mx-auto" },
                // Header
                React.createElement('div', { className: "mb-8" },
                    React.createElement('h1', { className: "text-3xl font-bold text-gray-900 mb-2" }, "Q&A Knowledge Base Cleanup"),
                    React.createElement('p', { className: "text-gray-600" }, "Review, edit, and clean up your question-answer pairs for better accuracy")
                ),

                // Controls
                React.createElement('div', { className: "bg-white rounded-lg shadow-sm border p-6 mb-6" },
                    React.createElement('div', { className: "flex flex-wrap gap-4 items-center justify-between" },
                        React.createElement('div', { className: "flex gap-4 items-center" },
                            React.createElement('div', { className: "relative" },
                                React.createElement(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }),
                                React.createElement('input', {
                                    type: "text",
                                    placeholder: "Search questions, answers, or tags...",
                                    className: "pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-80",
                                    value: searchTerm,
                                    onChange: (e) => setSearchTerm(e.target.value)
                                })
                            ),
                            React.createElement('select', {
                                value: filter,
                                onChange: (e) => setFilter(e.target.value),
                                className: "px-4 py-2 border border-gray-300 rounded-lg"
                            },
                                React.createElement('option', { value: "all" }, "All Pairs"),
                                React.createElement('option', { value: "issues" }, "Has Issues"),
                                React.createElement('option', { value: "duplicates" }, "Duplicates"),
                                React.createElement('option', { value: "outdated" }, "Outdated"),
                                React.createElement('option', { value: "low-confidence" }, "Low Confidence")
                            )
                        ),
                        React.createElement('div', { className: "flex gap-2" },
                            React.createElement('div', { className: "relative" },
                                React.createElement('input', {
                                    type: "file",
                                    accept: ".xlsx,.xls,.csv",
                                    onChange: handleFileUpload,
                                    className: "absolute inset-0 w-full h-full opacity-0 cursor-pointer",
                                    disabled: isLoading
                                }),
                                React.createElement('button', {
                                    className: `px-4 py-2 rounded-lg flex items-center gap-2 ${isLoading ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'} text-white`,
                                    disabled: isLoading
                                },
                                    isLoading ? [
                                        React.createElement('div', { key: 'spinner', className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white" }),
                                        "Processing..."
                                    ] : [
                                        React.createElement(Upload, { key: 'icon' }),
                                        "Import Excel"
                                    ]
                                )
                            ),
                            React.createElement('button', {
                                onClick: exportCleanData,
                                className: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",
                                disabled: qaPairs.length === 0
                            },
                                React.createElement(Download),
                                `Export Clean Data (${qaPairs.length} pairs)`
                            ),
                            React.createElement('button', {
                                onClick: loadSampleData,
                                className: "px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2"
                            },
                                React.createElement(FileSpreadsheet),
                                "Load Sample Data"
                            )
                        )
                    )
                ),

                // Upload Status
                uploadError && React.createElement('div', { className: "bg-red-50 border border-red-200 rounded-lg p-4 mb-6" },
                    React.createElement('div', { className: "flex items-center gap-2" },
                        React.createElement(AlertCircle, { className: "w-5 h-5 text-red-600" }),
                        React.createElement('h3', { className: "font-medium text-red-800" }, "Upload Error")
                    ),
                    React.createElement('p', { className: "text-red-700 mt-1" }, uploadError),
                    React.createElement('button', {
                        onClick: () => setUploadError(null),
                        className: "mt-2 text-red-600 hover:text-red-800 text-sm underline"
                    }, "Dismiss")
                ),

                isProcessing && React.createElement('div', { className: "bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6" },
                    React.createElement('div', { className: "flex items-center gap-2" },
                        React.createElement('div', { className: "animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600" }),
                        React.createElement('h3', { className: "font-medium text-blue-800" }, "Processing Q&A Pairs")
                    ),
                    React.createElement('p', { className: "text-blue-700 mt-1" }, "Analyzing content and detecting issues...")
                ),

                qaPairs.length === 0 && !isLoading && !isProcessing && React.createElement('div', { className: "bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 mb-6 text-center" },
                    React.createElement(FileSpreadsheet, { className: "w-12 h-12 text-gray-400 mx-auto mb-4" }),
                    React.createElement('h3', { className: "text-lg font-medium text-gray-900 mb-2" }, "No Q&A Data Loaded"),
                    React.createElement('p', { className: "text-gray-600 mb-4" }, "Upload an Excel file with your Q&A pairs to get started"),
                    React.createElement('p', { className: "text-sm text-gray-500 mb-4" }, "Expected format: Excel file with \"Question\" and \"Answer\" columns"),
                    React.createElement('button', {
                        onClick: loadSampleData,
                        className: "px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"
                    }, "Or Try Sample Data (900 pairs)")
                ),

                // Stats
                qaPairs.length > 0 && React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-4 gap-4 mb-6" },
                    React.createElement('div', { className: "bg-white p-4 rounded-lg shadow-sm border" },
                        React.createElement('div', { className: "text-2xl font-bold text-gray-900" }, qaPairs.length),
                        React.createElement('div', { className: "text-sm text-gray-600" }, "Total Q&A Pairs")
                    ),
                    React.createElement('div', { className: "bg-white p-4 rounded-lg shadow-sm border" },
                        React.createElement('div', { className: "text-2xl font-bold text-red-600" }, qaPairs.filter(p => p.issues.length > 0).length),
                        React.createElement('div', { className: "text-sm text-gray-600" }, "Need Attention")
                    ),
                    React.createElement('div', { className: "bg-white p-4 rounded-lg shadow-sm border" },
                        React.createElement('div', { className: "text-2xl font-bold text-yellow-600" }, qaPairs.filter(p => p.issues.includes('duplicate')).length),
                        React.createElement('div', { className: "text-sm text-gray-600" }, "Potential Duplicates")
                    ),
                    React.createElement('div', { className: "bg-white p-4 rounded-lg shadow-sm border" },
                        React.createElement('div', { className: "text-2xl font-bold text-green-600" }, qaPairs.filter(p => p.issues.length === 0).length),
                        React.createElement('div', { className: "text-sm text-gray-600" }, "Clean Pairs")
                    )
                ),

                // Main Content
                qaPairs.length > 0 && React.createElement('div', { className: "grid grid-cols-1 lg:grid-cols-2 gap-6" },
                    // Q&A List
                    React.createElement('div', { className: "bg-white rounded-lg shadow-sm border" },
                        React.createElement('div', { className: "p-4 border-b" },
                            React.createElement('h2', { className: "text-lg font-semibold" }, `Q&A Pairs (${filteredPairs.length})`)
                        ),
                        React.createElement('div', { className: "max-h-96 overflow-y-auto" },
                            filteredPairs.map((pair) =>
                                React.createElement('div', {
                                    key: pair.id,
                                    className: `p-4 border-b cursor-pointer hover:bg-gray-50 ${selectedPair?.id === pair.id ? 'bg-blue-50 border-l-4 border-l-blue-500' : ''}`,
                                    onClick: () => setSelectedPair(pair)
                                },
                                    React.createElement('div', { className: "flex items-start justify-between mb-2" },
                                        React.createElement('h3', { className: "font-medium text-gray-900 text-sm" }, pair.question),
                                        React.createElement('div', { className: "flex gap-1" },
                                            pair.issues.map((issue, idx) =>
                                                React.createElement('span', {
                                                    key: idx,
                                                    className: `px-2 py-1 text-xs rounded-full ${getIssueColor(issue)}`
                                                }, issue)
                                            )
                                        )
                                    ),
                                    React.createElement('p', { className: "text-gray-600 text-sm line-clamp-2" }, pair.answer),
                                    React.createElement('div', { className: "flex items-center justify-between mt-2" },
                                        React.createElement('div', { className: "flex gap-1" },
                                            pair.tags.map((tag, idx) =>
                                                React.createElement('span', {
                                                    key: idx,
                                                    className: "px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded"
                                                }, tag)
                                            )
                                        ),
                                        React.createElement('div', { className: "text-xs text-gray-500" }, `Confidence: ${pair.confidence}%`)
                                    )
                                )
                            )
                        )
                    ),

                    // Detail View
                    React.createElement('div', { className: "bg-white rounded-lg shadow-sm border" },
                        React.createElement('div', { className: "p-4 border-b" },
                            React.createElement('h2', { className: "text-lg font-semibold" },
                                selectedPair ? 'Review & Edit' : 'Select a Q&A pair to review'
                            )
                        ),
                        
                        selectedPair && React.createElement('div', { className: "p-4" },
                            editingPair?.id === selectedPair.id ? 
                                // Edit Mode
                                React.createElement('div', { className: "space-y-4" },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Question"),
                                        React.createElement('textarea', {
                                            value: editingPair.question,
                                            onChange: (e) => setEditingPair({...editingPair, question: e.target.value}),
                                            className: "w-full p-3 border border-gray-300 rounded-lg",
                                            rows: "2"
                                        })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Answer"),
                                        React.createElement('textarea', {
                                            value: editingPair.answer,
                                            onChange: (e) => setEditingPair({...editingPair, answer: e.target.value}),
                                            className: "w-full p-3 border border-gray-300 rounded-lg",
                                            rows: "4"
                                        })
                                    ),
                                    React.createElement('div', { className: "flex gap-2" },
                                        React.createElement('button', {
                                            onClick: handleSave,
                                            className: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2"
                                        },
                                            React.createElement(CheckCircle),
                                            "Save"
                                        ),
                                        React.createElement('button', {
                                            onClick: () => setEditingPair(null),
                                            className: "px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center gap-2"
                                        },
                                            React.createElement(X),
                                            "Cancel"
                                        )
                                    )
                                ) :
                                // View Mode
                                React.createElement('div', { className: "space-y-4" },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Question"),
                                        React.createElement('div', { className: "p-3 bg-gray-50 rounded-lg" }, selectedPair.question)
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Answer"),
                                        React.createElement('div', { className: "p-3 bg-gray-50 rounded-lg" }, selectedPair.answer)
                                    ),
                                    selectedPair.issues.length > 0 && React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Issues Found"),
                                        React.createElement('div', { className: "flex gap-2" },
                                            selectedPair.issues.map((issue, idx) =>
                                                React.createElement('span', {
                                                    key: idx,
                                                    className: `px-3 py-1 text-sm rounded-full ${getIssueColor(issue)}`
                                                }, issue)
                                            )
                                        )
                                    ),
                                    selectedPair.issues.includes('duplicate') && React.createElement('div', { className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4" },
                                        React.createElement('h4', { className: "font-medium text-yellow-800 mb-2" }, "Potential Duplicates Found"),
                                        React.createElement('p', { className: "text-sm text-yellow-700 mb-3" }, "Similar questions detected. Consider merging or keeping the best version."),
                                        React.createElement('button', { className: "px-3 py-1 bg-yellow-200 text-yellow-800 rounded text-sm hover:bg-yellow-300" }, "View Similar Questions")
                                    ),
                                    React.createElement('div', { className: "flex gap-2" },
                                        React.createElement('button', {
                                            onClick: () => handleEdit(selectedPair),
                                            className: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2"
                                        },
                                            React.createElement(Edit3),
                                            "Edit"
                                        ),
                                        React.createElement('button', {
                                            onClick: () => handleDelete(selectedPair.id),
                                            className: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2"
                                        },
                                            React.createElement(Trash2),
                                            "Delete"
                                        )
                                    )
                                )
                        )
                    )
                )
            )
        );
    };

    ReactDOM.render(React.createElement(QACleanupTool), document.getElementById('root'));
</script>
```

</body>
</html>
